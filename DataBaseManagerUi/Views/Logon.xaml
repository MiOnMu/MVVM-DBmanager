<Window x:Class="DataBaseManagerUi.Views.Logon"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DataBaseManagerUi.Views"
        xmlns:visualStates ="clr-namespace:DataBaseManagerUi.VisualStates"
        xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:helpers="clr-namespace:DataBaseManagerUi.Helpers" 
        mc:Ignorable="d"
        md:DialogServiceViews.IsRegistered="True"
        Title="Logon" Height="261" Width="256" WindowStartupLocation="CenterScreen" WindowStyle="None">
    <Window.Effect>
        <DropShadowEffect/>
    </Window.Effect>
    <Window.Background>
        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
            <GradientStop Color="Black"/>
            <GradientStop Color="White" Offset="1"/>
        </LinearGradientBrush>
    </Window.Background>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding OnLoadCommand}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Grid x:Name="grid"  visualStates:AppStateManager.VisualStateProperty="{Binding AppState}">
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="VisualStateGroup">
                <VisualStateGroup.Transitions>
                    <VisualTransition GeneratedDuration="00:00:02">
                        <VisualTransition.GeneratedEasingFunction>
                            <BackEase EasingMode="EaseIn"/>
                        </VisualTransition.GeneratedEasingFunction>
                    </VisualTransition>
                </VisualStateGroup.Transitions>
                <VisualState x:Name="VisualStateValid">
                    <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                            <EasingColorKeyFrame KeyTime="00:00:00" Value="#FFA5CCC1"/>
                            <EasingColorKeyFrame KeyTime="00:00:00.2000000" Value="#FF83B5A6"/>
                            <EasingColorKeyFrame KeyTime="00:00:01.6000000" Value="#FF38DCAB"/>
                            <EasingColorKeyFrame KeyTime="00:00:02.4000000" Value="#FF0FD69B"/>
                        </ColorAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="VisualStateError">
                    <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                            <EasingColorKeyFrame KeyTime="00:00:00" Value="#FFDEAD8B"/>
                            <EasingColorKeyFrame KeyTime="00:00:00.5000000" Value="#FFD07E45"/>
                            <EasingColorKeyFrame KeyTime="00:00:01.3000000" Value="#FFE42828"/>
                            <EasingColorKeyFrame KeyTime="00:00:01.8000000" Value="#FFE42828"/>
                        </ColorAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="VisualStateClose">
                    <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                            <EasingColorKeyFrame KeyTime="00:00:00.1000000" Value="#FFBCCECC"/>
                            <EasingColorKeyFrame KeyTime="00:00:01.6000000" Value="#FF2BDE4F"/>
                        </ColorAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
                <VisualState x:Name="VisualStateErrorPass">
                    <Storyboard>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="grid" Storyboard.TargetProperty="(Panel.Background).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                            <EasingColorKeyFrame KeyTime="00:00:00" Value="#FFE42828"/>
                            <EasingColorKeyFrame KeyTime="00:00:02" Value="#FFDEABAB"/>
                            <EasingColorKeyFrame KeyTime="00:00:02.8000000" Value="#FFE42828"/>
                        </ColorAnimationUsingKeyFrames>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="textBox" Storyboard.TargetProperty="(Control.Background).(SolidColorBrush.Color)">
                            <EasingColorKeyFrame KeyTime="00:00:00.1000000" Value="sc#1, 0.7835378, 0.50888133, 0.7991027"/>
                            <EasingColorKeyFrame KeyTime="00:00:01.3000000" Value="#FFB1296D"/>
                        </ColorAnimationUsingKeyFrames>
                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="passwordBox" Storyboard.TargetProperty="(Control.Background).(SolidColorBrush.Color)">
                            <EasingColorKeyFrame KeyTime="00:00:00.1000000" Value="#FFE7BCE1"/>
                            <EasingColorKeyFrame KeyTime="00:00:01.3000000" Value="#FFB1296D"/>
                        </ColorAnimationUsingKeyFrames>
                    </Storyboard>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
        <Grid.Background>
            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="Black" Offset="0"/>
                <GradientStop Color="White" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Button Content="Logon" Command="{Binding LogonCommand}" Margin="10,0,142,10" Height="30" VerticalAlignment="Bottom">
            <Button.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FFD9E2EA"/>
                    <GradientStop Color="White" Offset="1"/>
                    <GradientStop Color="#FFC0DDF3" Offset="0.044"/>
                    <GradientStop Color="#FE9CB5C8" Offset="0.129"/>
                    <GradientStop Color="#FE5A88AB" Offset="0.24"/>
                </LinearGradientBrush>
            </Button.Background>
            <Button.Effect>
                <DropShadowEffect/>
            </Button.Effect>
        </Button>
        <Button x:Name="button"  IsEnabled ="{Binding IsEnabledClose}" Content="Close" Command="{Binding CloseCommand}" Margin="127,0,20,10" VerticalAlignment="Bottom" Height="30">
            <Button.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FFD9E2EA"/>
                    <GradientStop Color="White" Offset="1"/>
                    <GradientStop Color="#FFC0DDF3" Offset="0.044"/>
                    <GradientStop Color="#FE9CB5C8" Offset="0.129"/>
                    <GradientStop Color="#FE5A88AB" Offset="0.24"/>
                </LinearGradientBrush>
            </Button.Background>
            <Button.Effect>
                <DropShadowEffect/>
            </Button.Effect>
        </Button>
        <TabControl Margin="10,0,20,56" Height="180" VerticalAlignment="Bottom">
            <TabItem Header="User Data">
                <Grid Background="#FFE5E5E5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBox Text="{Binding CurrentUser}" Margin="18,35,18,0" TextWrapping="Wrap"  VerticalAlignment="Top" RenderTransformOrigin="0.507,0.532" Height="23">
                        <TextBox.Effect>
                            <DropShadowEffect/>
                        </TextBox.Effect>
                    </TextBox>
                    <PasswordBox Margin="18,90,18,0" VerticalAlignment="Top" Height="21" helpers:PasswordBoxHelper.BoundPassword="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <PasswordBox.Effect>
                            <DropShadowEffect/>
                        </PasswordBox.Effect>
                    </PasswordBox>
                    <Label Content="User Name" HorizontalAlignment="Center" Margin="0,2,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.456,0.13" Height="28">
                        <Label.Effect>
                            <DropShadowEffect/>
                        </Label.Effect>
                    </Label>
                    <Label Content="User Password" HorizontalAlignment="Center" Margin="0,57,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.456,0.13" Height="28">
                        <Label.Effect>
                            <DropShadowEffect/>
                        </Label.Effect>
                    </Label>
                </Grid>
            </TabItem>
            <TabItem Header="New User" Visibility="{Binding NewUserTabVisibility}">
                <Grid Background="#FFE5E5E5">
                    <TextBox x:Name="textBox" HorizontalAlignment="Center" Margin="0,32,0,0" TextWrapping="Wrap" Text="{Binding NewUser}" VerticalAlignment="Top" Width="184" RenderTransformOrigin="0.507,0.532" Height="23" Background="#FFE7DCBC">
                        <TextBox.Effect>
                            <DropShadowEffect/>
                        </TextBox.Effect>
                    </TextBox>
                    <PasswordBox x:Name="passwordBox" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Top" 
                        Width="184" 
                        Height="24"
                        helpers:PasswordBoxHelper.BoundPassword="{Binding PasswordNewUser, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Background="#FFE7DCBC" Margin="0,85,0,0">
                        <PasswordBox.Effect>
                            <DropShadowEffect/>
                        </PasswordBox.Effect>
                    </PasswordBox>
                    <Button Command="{Binding AddUserCommand}" Content="Add New User" HorizontalAlignment="Center" Height="23" Margin="0,119,0,0" VerticalAlignment="Top" Width="184">
                        <Button.Background>
                            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                <GradientStop Color="#FFD9E2EA"/>
                                <GradientStop Color="White" Offset="1"/>
                                <GradientStop Color="#FFC0DDF3" Offset="0.044"/>
                                <GradientStop Color="#FE9CB5C8" Offset="0.129"/>
                                <GradientStop Color="#FE5A88AB" Offset="0.24"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <Button.Effect>
                            <DropShadowEffect/>
                        </Button.Effect>
                    </Button>
                    <Label Content="User Name" HorizontalAlignment="Center" Margin="0,2,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.456,0.13" Height="28">
                        <Label.Effect>
                            <DropShadowEffect/>
                        </Label.Effect>
                    </Label>
                    <Label Content="User Password" HorizontalAlignment="Center" Margin="0,57,0,0" VerticalAlignment="Top" RenderTransformOrigin="-0.456,0.13" Height="28">
                        <Label.Effect>
                            <DropShadowEffect/>
                        </Label.Effect>
                    </Label>
                </Grid>
            </TabItem>
        </TabControl>

    </Grid>
</Window>
